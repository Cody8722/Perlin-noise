<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>äºŒåˆ†æ¸¬è©¦</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #1a1a1a; color: #fff; }
        .result { padding: 10px; margin: 10px 0; border-radius: 5px; }
        .success { background: #1a4d1a; border: 2px solid #00ff88; }
        .error { background: #4d1a1a; border: 2px solid #ff4444; }
    </style>
</head>
<body>
    <h1>ğŸ”¬ äºŒåˆ†æ¸¬è©¦ï¼šæ‰¾å‡ºå•é¡Œå‡½å¼</h1>
    <div id="results"></div>
    <script>
        const results = document.getElementById('results');

        function test(filename, description) {
            const div = document.createElement('div');
            div.innerHTML = `<strong>${description}</strong><br>æ¸¬è©¦ä¸­...`;
            results.appendChild(div);

            try {
                const worker = new Worker(`./js/${filename}`, { type: 'module' });

                worker.onmessage = (e) => {
                    div.className = 'result success';
                    div.innerHTML = `<strong>${description}</strong><br>âœ… æˆåŠŸï¼<br><pre>${JSON.stringify(e.data, null, 2)}</pre>`;
                };

                worker.onerror = (error) => {
                    div.className = 'result error';
                    div.innerHTML = `<strong>${description}</strong><br>âŒ å¤±æ•—ï¼<br>æª”æ¡ˆ: ${error.filename || '(æœªçŸ¥)'}<br>è¡Œ: ${error.lineno || '(æœªçŸ¥)'}`;
                };

                setTimeout(() => {
                    if (!div.className) {
                        div.className = 'result error';
                        div.innerHTML = `<strong>${description}</strong><br>âš ï¸ è¶…æ™‚ï¼ˆæ²’æœ‰å›æ‡‰ï¼‰`;
                    }
                }, 3000);
            } catch (error) {
                div.className = 'result error';
                div.innerHTML = `<strong>${description}</strong><br>âŒ å»ºæ§‹å¤±æ•—ï¼š${error.message}`;
            }
        }

        // åŸ·è¡Œæ¸¬è©¦åºåˆ—
        setTimeout(() => test('test-terrain-structure.worker.js', 'åŸºæº–ï¼šçµæ§‹æ¸¬è©¦ï¼ˆå·²çŸ¥æˆåŠŸï¼‰'), 100);
        setTimeout(() => test('test-terrain-half.worker.js', 'æ¸¬è©¦ Aï¼šå‰åŠéƒ¨åˆ†ï¼ˆå‰ 230 è¡Œï¼‰'), 3500);
        setTimeout(() => test('test-terrain-copy.worker.js', 'æ¸¬è©¦ Bï¼šå®Œæ•´å‰¯æœ¬ï¼ˆå·²çŸ¥å¤±æ•—ï¼‰'), 7000);
    </script>
</body>
</html>
